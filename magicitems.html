<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark" />
    <title>Character Generator</title>
    <link rel="stylesheet" href="dist/bundle.css">
    <style>
        /* Overlay to block interactions with the rest of the page */
        .modal-overlay {
            display: none;
            /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            /* Dark transparent background */
            z-index: 5;
            /* Make sure it overlays everything */
            justify-content: center;
            align-items: center;
            word-break: break-all;
        }

        .hidden {
            display: none;
        }

        .visible {
            display: block;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="scripts/generate-character.js"></script> <!-- Only the generate-character.js file now -->

</head>

<body>
    <nav class="top no-space">
        <button class="icon transparent vertical">
            <i>menu</i>
            <span>menu</span>
            <menu class="no-wrap bottom large-width hidden" id="invisible-menu">
                <a href="./rules.html">Rules</a>
                <a>Classes</a>
                <a href="./races.html">Races</a>
                <a>Backgrounds</a>
                <a href="./feats.html">Feats</a>
                <a>Skills</a>
                <a>Spells</a>
                <a>Monsters</a>
                <a>Items</a>
                <a>Equipment</a>
                <a href="./conditions.html">Conditions</a>
                <a>Settings</a>
            </menu>
        </button>
        <button class="icon transparent vertical" onclick="navigateTo('./charactergenerator.html')">
            <i>home</i>
            <div>home</div>
        </button>
        <button class="icon transparent vertical" onclick="navigateTo('./save.html')">
            <i>save</i>
            <div>save</div>
        </button>
        <button class="icon transparent vertical" onclick="navigateTo('./about.html')">
            <i>badge</i>
            <div>about</div>
        </button>
    </nav>
    <main class="responsive">
        <article class="responsive">

        </article>
    </main>

    <script src="dist/bundle.js"></script>
    <script src="scripts/main.js"></script>
    
    <script>
        function navigateTo(url) {
            window.location.href = url;
        }

        document.querySelector('.icon').addEventListener('click', function () {
            const menu = document.querySelector('menu');

            if (menu.classList.contains('visible')) {
                menu.classList.remove('visible');
                menu.classList.add('hidden');
            } else {
                menu.classList.remove('hidden');
                menu.classList.add('visible');
            }
        });
    </script>

    <script>
        fetch('https://raw.githubusercontent.com/jay-whale/dungeon-data/main/magic-items.json')
            .then(response => response.json())
            .then(data => {
                // console.log("github.com");
                // console.log(data);

                data.forEach(element => {
                    let article = document.querySelector('article');
                    let div = document.createElement('div');
                    div.classList.add('card');
                    div.innerHTML = `
                        <details>
                            <summary>${element.name}</summary>
                            <div class="bottom-margin"><h6 class="orange-text no-padding no-margin">Type:</h6> <p class="large-text no-padding no-margin">${element.type}</p></div>
                            <div class="bottom-margin"><h6 class="orange-text no-padding no-margin">Rarity:</h6> <p class="large-text no-padding no-margin">${element.rarity}</p></div>
                            <div class="bottom-margin"><h6 class="orange-text no-padding no-margin">price:</h6> <p class="large-text no-padding no-margin">${element.price} <span class="small-text">GP</span></p></div>
                            <div class="bottom-margin"><h6 class="orange-text no-padding no-margin">Attunement:</h6> <p class="large-text no-padding no-margin">${element.attunement}</p></div>
                            <div class="bottom-margin"><h6 class="orange-text no-padding no-margin">Description:</h6> <p class="large-text no-padding no-margin">${element.desc}</p></div>
                        </details>
                    `;
                    article.appendChild(div);
                });

            });



        // fetch('https://www.dnd5eapi.co/api/magic-items')
        //     .then(response => response.json())
        //     .then(data => {
        //         console.log("dnd5eapi.co");
        //         console.log(data);
        //     });
    </script>

</body>

</html>